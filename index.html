
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2D Grid & Vector Transformation Visualizer</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 30px;
        }
        .canvas-container {
            display: flex;
            justify-content: center;
            margin: 20px 0;
        }
        canvas {
            border: 2px solid #ddd;
            border-radius: 10px;
            background: #f8f9fa;
        }
        .controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .control-group {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            border: 1px solid #e9ecef;
        }
        .control-group h3 {
            margin-top: 0;
            color: #495057;
        }
        input[type="number"] {
            width: 60px;
            padding: 5px;
            border: 1px solid #ced4da;
            border-radius: 5px;
            margin: 2px;
        }
        button {
            background: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
            transition: background 0.3s;
        }
        button:hover {
            background: #0056b3;
        }
        .matrix-display {
            font-family: monospace;
            background: #e9ecef;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
        }
        .preset-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }
        .preset-btn {
            background: #28a745;
        }
        .preset-btn:hover {
            background: #1e7e34;
        }
        .vector-input {
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 10px 0;
        }
        .legend {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 10px 0;
            font-size: 14px;
        }
        .legend-item {
            display: flex;
            align-items: center;
            gap: 5px;
        }
        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 3px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>2D Grid & Vector Transformation Visualizer</h1>
        
        <div class="legend">
            <div class="legend-item">
                <div class="legend-color" style="background: #007bff;"></div>
                <span>Original Grid</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #ff6b6b;"></div>
                <span>Transformed Grid</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #28a745;"></div>
                <span>Vector</span>
            </div>
        </div>
        
        <div class="canvas-container">
            <canvas id="gridCanvas" width="800" height="600"></canvas>
        </div>
        
        <div class="controls">
            <div class="control-group">
                <h3>Vector Input</h3>
                <div class="vector-input">
                    <label>X: <input type="number" id="vectorX" value="2" step="0.1"></label>
                    <label>Y: <input type="number" id="vectorY" value="1" step="0.1"></label>
                    <button onclick="updateVector()">Update Vector</button>
                </div>
            </div>
            
            <div class="control-group">
                <h3>Transformation Matrix</h3>
                <div>
                    <input type="number" id="a11" value="1" step="0.1"> <input type="number" id="a12" value="0" step="0.1"><br>
                    <input type="number" id="a21" value="0" step="0.1"> <input type="number" id="a22" value="1" step="0.1">
                </div>
                <div class="matrix-display" id="matrixDisplay">
                    [1  0]<br>
                    [0  1]
                </div>
                <button onclick="applyTransformation()">Apply Transformation</button>
                <button onclick="resetGrid()">Reset</button>
            </div>
            
            <div class="control-group">
                <h3>Preset Transformations</h3>
                <div class="preset-buttons">
                    <button class="preset-btn" onclick="setPreset('identity')">Identity</button>
                    <button class="preset-btn" onclick="setPreset('rotation90')">Rotation 90°</button>
                    <button class="preset-btn" onclick="setPreset('rotation45')">Rotation 45°</button>
                    <button class="preset-btn" onclick="setPreset('scaling')">Scaling (2x)</button>
                    <button class="preset-btn" onclick="setPreset('shear')">Shear</button>
                    <button class="preset-btn" onclick="setPreset('reflection')">Reflection</button>
                </div>
            </div>
            
            <div class="control-group">
                <h3>Grid Settings</h3>
                <label>Grid Size: <input type="number" id="gridSize" value="8" min="3" max="15"></label><br>
                <label>Grid Spacing: <input type="number" id="gridSpacing" value="50" min="30" max="100"></label><br>
                <button onclick="updateGrid()">Update Grid</button>
            </div>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('gridCanvas');
        const ctx = canvas.getContext('2d');
        
        let gridPoints = [];
        let transformedPoints = [];
        let currentMatrix = [[1, 0], [0, 1]];
        let currentVector = [2, 1];
        let transformedVector = [2, 1];
        
        // Apply transformation matrix to a point
        function transformPoint(point, matrix) {
            const [x, y] = point;
            const [[a, b], [c, d]] = matrix;
            return [a * x + b * y, c * x + d * y];
        }
        
        // Draw arrow
        function drawArrow(startX, startY, endX, endY, color, lineWidth = 3) {
            const headLength = 15;
            const angle = Math.atan2(endY - startY, endX - startX);
            
            ctx.strokeStyle = color;
            ctx.fillStyle = color;
            ctx.lineWidth = lineWidth;
            
            // Draw line
            ctx.beginPath();
            ctx.moveTo(startX, startY);
            ctx.lineTo(endX, endY);
            ctx.stroke();
            
            // Draw arrow head
            ctx.beginPath();
            ctx.moveTo(endX, endY);
            ctx.lineTo(endX - headLength * Math.cos(angle - Math.PI / 6), 
                      endY - headLength * Math.sin(angle - Math.PI / 6));
            ctx.moveTo(endX, endY);
            ctx.lineTo(endX - headLength * Math.cos(angle + Math.PI / 6), 
                      endY - headLength * Math.sin(angle + Math.PI / 6));
            ctx.stroke();
        }
        
        // Initialize grid
        function initializeGrid() {
            const gridSize = parseInt(document.getElementById('gridSize').value);
            const spacing = parseInt(document.getElementById('gridSpacing').value);
            
            gridPoints = [];
            for (let i = -gridSize; i <= gridSize; i++) {
                for (let j = -gridSize; j <= gridSize; j++) {
                    gridPoints.push([i * spacing, j * spacing]);
                }
            }
            updateTransformedPoints();
            updateTransformedVector();
            drawGrid();
        }
        
        // Update transformed points based on current matrix
        function updateTransformedPoints() {
            transformedPoints = gridPoints.map(point => transformPoint(point, currentMatrix));
        }
        
        // Update transformed vector
        function updateTransformedVector() {
            transformedVector = transformPoint(currentVector, currentMatrix);
        }
        
        // Draw the grid
        function drawGrid() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // Draw coordinate axes
            ctx.strokeStyle = '#333';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(0, canvas.height / 2);
            ctx.lineTo(canvas.width, canvas.height / 2);
            ctx.moveTo(canvas.width / 2, 0);
            ctx.lineTo(canvas.width / 2, canvas.height);
            ctx.stroke();
            
            // Draw original grid lines
            ctx.strokeStyle = '#007bff';
            ctx.lineWidth = 1;
            const spacing = parseInt(document.getElementById('gridSpacing').value);
            const gridSize = parseInt(document.getElementById('gridSize').value);
            
            // Draw vertical lines
            for (let i = -gridSize; i <= gridSize; i++) {
                const x = i * spacing + canvas.width / 2;
                ctx.beginPath();
                ctx.moveTo(x, 0);
                ctx.lineTo(x, canvas.height);
                ctx.stroke();
            }
            
            // Draw horizontal lines
            for (let j = -gridSize; j <= gridSize; j++) {
                const y = -j * spacing + canvas.height / 2;
                ctx.beginPath();
                ctx.moveTo(0, y);
                ctx.lineTo(canvas.width, y);
                ctx.stroke();
            }
            
            // Draw transformed grid lines
            ctx.strokeStyle = '#ff6b6b';
            ctx.lineWidth = 1;
            
            // Draw transformed vertical lines
            for (let i = -gridSize; i <= gridSize; i++) {
                const originalX = i * spacing;
                const transformedStart = transformPoint([originalX, -gridSize * spacing], currentMatrix);
                const transformedEnd = transformPoint([originalX, gridSize * spacing], currentMatrix);
                
                const startX = transformedStart[0] + canvas.width / 2;
                const startY = -transformedStart[1] + canvas.height / 2;
                const endX = transformedEnd[0] + canvas.width / 2;
                const endY = -transformedEnd[1] + canvas.height / 2;
                
                ctx.beginPath();
                ctx.moveTo(startX, startY);
                ctx.lineTo(endX, endY);
                ctx.stroke();
            }
            
            // Draw transformed horizontal lines
            for (let j = -gridSize; j <= gridSize; j++) {
                const originalY = j * spacing;
                const transformedStart = transformPoint([-gridSize * spacing, originalY], currentMatrix);
                const transformedEnd = transformPoint([gridSize * spacing, originalY], currentMatrix);
                
                const startX = transformedStart[0] + canvas.width / 2;
                const startY = -transformedStart[1] + canvas.height / 2;
                const endX = transformedEnd[0] + canvas.width / 2;
                const endY = -transformedEnd[1] + canvas.height / 2;
                
                ctx.beginPath();
                ctx.moveTo(startX, startY);
                ctx.lineTo(endX, endY);
                ctx.stroke();
            }
            
            // Draw original vector
            const vectorStartX = canvas.width / 2;
            const vectorStartY = canvas.height / 2;
            const vectorEndX = currentVector[0] * spacing + canvas.width / 2;
            const vectorEndY = -currentVector[1] * spacing + canvas.height / 2;
            drawArrow(vectorStartX, vectorStartY, vectorEndX, vectorEndY, '#28a745', 4);
            
            // Draw transformed vector
            const transformedVectorStartX = canvas.width / 2;
            const transformedVectorStartY = canvas.height / 2;
            const transformedVectorEndX = transformedVector[0] * spacing + canvas.width / 2;
            const transformedVectorEndY = -transformedVector[1] * spacing + canvas.height / 2;
            drawArrow(transformedVectorStartX, transformedVectorStartY, 
                     transformedVectorEndX, transformedVectorEndY, '#ffc107', 4);
        }
        
        // Update vector
        function updateVector() {
            const x = parseFloat(document.getElementById('vectorX').value);
            const y = parseFloat(document.getElementById('vectorY').value);
            currentVector = [x, y];
            updateTransformedVector();
            drawGrid();
        }
        
        // Apply transformation
        function applyTransformation() {
            const a11 = parseFloat(document.getElementById('a11').value);
            const a12 = parseFloat(document.getElementById('a12').value);
            const a21 = parseFloat(document.getElementById('a21').value);
            const a22 = parseFloat(document.getElementById('a22').value);
            
            currentMatrix = [[a11, a12], [a21, a22]];
            updateTransformedPoints();
            updateTransformedVector();
            drawGrid();
            updateMatrixDisplay();
        }
        
        // Reset grid
        function resetGrid() {
            currentMatrix = [[1, 0], [0, 1]];
            document.getElementById('a11').value = 1;
            document.getElementById('a12').value = 0;
            document.getElementById('a21').value = 0;
            document.getElementById('a22').value = 1;
            updateTransformedPoints();
            updateTransformedVector();
            drawGrid();
            updateMatrixDisplay();
        }
        
        // Update grid settings
        function updateGrid() {
            initializeGrid();
        }
        
        // Update matrix display
        function updateMatrixDisplay() {
            const [[a11, a12], [a21, a22]] = currentMatrix;
            document.getElementById('matrixDisplay').innerHTML = 
                `[${a11.toFixed(2)}  ${a12.toFixed(2)}]<br>[${a21.toFixed(2)}  ${a22.toFixed(2)}]`;
        }
        
        // Set preset transformations
        function setPreset(type) {
            let matrix;
            switch(type) {
                case 'identity':
                    matrix = [[1, 0], [0, 1]];
                    break;
                case 'rotation90':
                    matrix = [[0, -1], [1, 0]];
                    break;
                case 'rotation45':
                    const cos45 = Math.cos(Math.PI / 4);
                    const sin45 = Math.sin(Math.PI / 4);
                    matrix = [[cos45, -sin45], [sin45, cos45]];
                    break;
                case 'scaling':
                    matrix = [[2, 0], [0, 2]];
                    break;
                case 'shear':
                    matrix = [[1, 1], [0, 1]];
                    break;
                case 'reflection':
                    matrix = [[-1, 0], [0, 1]];
                    break;
            }
            
            currentMatrix = matrix;
            document.getElementById('a11').value = matrix[0][0];
            document.getElementById('a12').value = matrix[0][1];
            document.getElementById('a21').value = matrix[1][0];
            document.getElementById('a22').value = matrix[1][1];
            
            updateTransformedPoints();
            updateTransformedVector();
            drawGrid();
            updateMatrixDisplay();
        }
        
        // Initialize the application
        window.onload = function() {
            initializeGrid();
            updateMatrixDisplay();
        };
    </script>
</body>
</html>
    